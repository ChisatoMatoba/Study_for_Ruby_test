<body data-category-id="<%= @question.category.id %>" data-question-id="<%= @question.id %>" data-next-question-url="<%= next_category_question_path(@question.category, @question) %>">
  <div class="container">
    <div class="content">
      <div class="d-flex justify-content-start align-items-center">
        <h3>問題 <%= @question.number %></h3>
        <h5 class="text-secondary ms-2">(<%= @current_question_number %> / <%= @total_questions %>)</h5>
      </div>

      <%= markdown(@question.content) %>
      <div class="card mb-3">
        <ul id="choices" class="list-group list-group-flush">
          <% @choices.each_with_index do |choice, i| %>
            <li class="choice list-group-item" data-choice-id="<%= choice.id %>"><%= i + 1 %> : <%= markdown(choice.content) %></li>
          <% end %>
        </ul>
      </div>

      <div class="card border-light mb-3">
        <h5><div id="selected_choices" class="text-center"></div></h5>
        <button id="submit_answers" class="btn btn-outline-success">回答</button>
      </div>
    </div>

    <div id="result_card" class="content" style="display:none;">
      <div id="result_display" class="card fs-3 text-center"></div>
      <div id="correct_answers" class="card bg-warning bg-opacity-10"></div>
      <div id="explanation" class="card bg-info bg-opacity-10 mb-3"></div>
      <div id="memo" class="card bg-info bg-opacity-10 mb-3"></div>
      <button id="edit_memo_button" class="btn btn-outline-primary">メモを編集する</button>

      <div id="edit_memo" class="mt-3" style="display:none;">
        <textarea id="learned_content" class="form-control mb-2" rows="3"></textarea>
        <button id="save_learned_content" class="btn btn-outline-primary">メモ編集完了</button>
      </div>

      <button id="next_button" class="btn btn-primary">次へ</button>
      <button id="quit_button" class="btn btn-outline-danger">中断する</button>
    </div>
  </div>
</body>
